<!DOCTYPE html>
<!-- saved from url=(0077)file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>w14-d4_react-router-and-react-builds</title>
      
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="./w14-d4_react-router-and-react-builds_files/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header undefined" id="week-14-day-4brreact-router-and-react-builds">WEEK-14 DAY-4<br><em>React Router and React Builds</em></h1>

<hr>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>▶︎</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-learning-objectives">React Router Learning Objectives</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-builds-learning-objectives">React Builds Learning Objectives</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-introduction">React Router Introduction</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#getting-started-with-routing">Getting started with routing</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#creating-frontend-routes">Creating frontend routes</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#match">Match</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-navigation">React Router Navigation</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#adding-links-for-navigation">Adding links for navigation</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#switching-between-routes">Switching between routes</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#redirecting-users">Redirecting users</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#history">History</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-1">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-nested-routes">React Router Nested Routes</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#why-nested-routes">Why nested routes?</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-are-nested-routes">What are nested routes?</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-2">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-builds">React Builds</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#understanding-front-end-builds">Understanding front-end builds</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#pulling-back-the-covers-a-bit-on-the-create-react-app-build-process">Pulling back the covers (a bit) on the Create React App build process</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#preparing-to-deploy-a-react-application-for-production">Preparing to deploy a React application for production</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-3">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-documentation">React Router Documentation</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#setting-up-react-router">Setting up React Router</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#routes-and-links">Routes and Links</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#switch-and-redirect">Switch and Redirect</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-params-ownprops">React Router Params (ownProps)</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#rainbow-routes-project">Rainbow Routes Project</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-0-setup">Phase 0: Setup</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-1-routes">Phase 1: Routes</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-2-links">Phase 2: Links</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-3-navlinks">Phase 3: NavLinks</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-4-changing-navlinks-active-class">Phase 4 - Changing NavLink's Active Class</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#exploring-react-builds-project">Exploring React Builds Project</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-0-setup-1">Phase 0: Setup</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-1-using-css-modules">Phase 1: Using CSS modules</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-2-using-an-image-in-a-component">Phase 2: Using an image in a component</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-3-updating-the-supported-browsers-and-its-affect-on-code-transpilation">Phase 3: Updating the supported browsers (and its affect on code transpilation)</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-4-adding-environment-variables">Phase 4: Adding environment variables</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-5-deploying-a-production-build">Phase 5: Deploying a production build</a></li>
</ul>
</li>
</ul>
<hr>
<hr>
<h1 class="mume-header" id="react-router-learning-objectives">React Router Learning Objectives</h1>

<p>At this point, you know how to build and render frontend components with React.<br>
Now it's time to learn about frontend routing so that you can connect specific<br>
components to render at specific URL paths. After reading and practicing, you<br>
should be able to:</p>
<ul>
<li>Use the <code>react-router-dom</code> package to set up React Router in your applications</li>
<li>Create routes using the <code>&lt;Route&gt;</code> component from the <code>react-router-dom</code><br>
package</li>
<li>Generate navigation links with the <code>&lt;Link&gt;</code> and <code>&lt;NavLink&gt;</code> components from<br>
the <code>react-router-dom</code> package</li>
<li>Create <code>&lt;Switch&gt;</code> routes and manage the order of rendered components</li>
<li>Use the React Router <code>match</code> prop to access router parameters</li>
<li>Use the React Router <code>history</code> prop to programmatically change the browser's<br>
URL</li>
<li>Redirect users by using the <code>&lt;Redirect&gt;</code> component in a route</li>
<li>Describe what nested routes are and how to create them</li>
</ul>
<hr>
<h1 class="mume-header" id="react-builds-learning-objectives">React Builds Learning Objectives</h1>

<p>You've been using Create React App to create and build React applications. While<br>
you don't need to understand every detail of the frontend build process that<br>
Create React App provides, having a general understanding will help you to take<br>
full advantage of the features offered by the tool. After reading and<br>
practicing, you should be able to:</p>
<ul>
<li>Describe what frontend builds are and why they're needed</li>
<li>Describe at a high level what happens in a Create React App when you run <code>npm start</code></li>
<li>Prepare to deploy a React application into a production environment</li>
</ul>
<hr>
<h1 class="mume-header" id="react-router-introduction">React Router Introduction</h1>

<p>Now that you know how to render components in a React app, how do you handle<br>
rendering different components for different website pages? React Router is the<br>
answer!</p>
<p>Think of how you have created server-side routes in Express. Take the following<br>
URL and server-side route. Notice how the <code>/users/:userId</code> path corresponds with<br>
the <code>http://localhost:3000/users/2</code> URL to render a specific HTML page.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// http://localhost:3000/users/2</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users/:userId'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'userProfile.pug'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>In the default React setup, you lose the ability to create routes in the same<br>
manner as in Express. This is what React Router aims to solve!</p>
<p><a href="https://github.com/ReactTraining/react-router">React Router</a> is a frontend routing library that allows you to control which<br>
components to display using the browser location. A user can also copy and paste<br>
a URL and email it to a friend or link to it from their own website.</p>
<p>When you finish this article, you should be able to use the following from the<br>
<code>react-router-dom</code> library:</p>
<ul>
<li><code>&lt;BrowserRouter&gt;</code> to provide your application access to the <code>react-router-dom</code><br>
library; and</li>
<li><code>&lt;Route&gt;</code> to connect specific URL paths to specific components you want<br>
rendered; and</li>
<li><code>&lt;Switch&gt;</code> to wrap several <code>Route</code> elements, rendering only one even if<br>
several match the current URL; and</li>
<li>React Router's <code>match</code> prop to access route path parameters.</li>
</ul>
<h2 class="mume-header" id="getting-started-with-routing">Getting started with routing</h2>

<p>Since you are writing single page apps, you don't want to refresh the page each<br>
time you change the browser location. Instead, you want to update the browser<br>
location and your app's response using JavaScript. This is known as client-side<br>
routing. You are using React, so you will use React Router to do this.</p>
<p>Create a simple react project template:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash">npx create-react-app my-app --template @appacademy/simple
</pre><p>Then install React Router:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save react-router-dom@^5.1.2
</pre><p>Now import <code>BrowserRouter</code> from <code>react-router-dom</code> in your entry file:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> 'react<span class="token operator">-</span>router<span class="token operator">-</span>dom`<span class="token punctuation">;</span>
</pre><h3 class="mume-header" id="browserrouter">BrowserRouter</h3>

<p><code>BrowserRouter</code> is the primary component of the router that wraps your route<br>
hierarchy. It creates a React context that passes routing information down to<br>
all its descendent components. For example, if you want to give <code>&lt;App&gt;</code> and all<br>
its children components access to React Router, you would wrap <code>&lt;App&gt;</code> like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/index.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Root <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Now you can route the rendering of certain components to certain URLs (i.e<br>
<code>https://www.website.com/profile</code>).</p>
<h3 class="mume-header" id="hashrouter">HashRouter</h3>

<p>Alternatively, you could import and use <code>HashRouter</code> from <code>react-router-dom</code>.<br>
Links for applications that use <code>&lt;HashRouter&gt;</code> would look like<br>
<code>https://www.website.com/#/profile</code> (with an <code>#</code> between the domain and path).</p>
<p>You'll focus on using the <code>&lt;BrowserRouter&gt;</code>.</p>
<h2 class="mume-header" id="creating-frontend-routes">Creating frontend routes</h2>

<p>React Router helps your React application render specific components based on<br>
the URL. The React Router component you'll use most often is <code>&lt;Route&gt;</code>.</p>
<p>The <code>&lt;Route&gt;</code> component is used to wrap another component, causing that<br>
component to only be rendered if a certain URL is matched. The behavior of the<br>
<code>&lt;Route&gt;</code> component is controlled by the following props: <code>path</code>, <code>component</code>,<br>
<code>exact</code>, and <code>render</code> (optional).</p>
<p>Create a simple <code>Users</code> component that returns <code>&lt;h1&gt;This is the users index!&lt;/h1&gt;</code>. Now let's refactor your <code>index.js</code> file so that you can create<br>
your routes within the component:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/index.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Users <span class="token keyword">from</span> <span class="token string">'./Users'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* TODO: Routes */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Root <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Note that <code>BrowserRouter</code> can only have a single child component, so the snippet<br>
above wraps all routes within parent a <code>&lt;div&gt;</code> element. Now let's create some<br>
routes!</p>
<h3 class="mume-header" id="component">component</h3>

<p>Begin with the <code>component</code> prop. This prop takes a reference to the component to<br>
be rendered. Let's render your <code>App</code> component:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route component<span class="token operator">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>Now you'll need to connect a path to the component!</p>
<h3 class="mume-header" id="path">path</h3>

<p>The wrapped component will only be rendered when the path is matched. The path<br>
matches the URL when it matches some initial portion of the URL. For example, a<br>
path of <code>/</code> would match both of the following URLs: <code>/</code> and <code>/users</code>. (Because<br>
<code>/users</code> begins with a <code>/</code> it matches the path <code>/</code>)</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/users<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Users<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>Take a moment to navigate to <code>http://localhost:3000/users</code> to see how both the<br>
<code>App</code> component and <code>Users</code> component are rendering.</p>
<h3 class="mume-header" id="exact">exact</h3>

<p>If this <code>exact</code> flag is set, the path will only match when it exactly matches<br>
the URL. Then browsing to the <code>/users</code> path would no longer match <code>/</code> and only<br>
the <code>Users</code> component will be rendered (instead of both the <code>App</code> component and<br>
<code>Users</code> component).</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/users<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Users<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><h3 class="mume-header" id="render">render</h3>

<p>This is an optional prop that takes in a function to be called. The function<br>
will be called when the path matches. The function's return value is rendered.<br>
You could also define a functional component inside the <code>component</code> prop, but<br>
this results in extra, unnecessary work for React. The <code>render</code> prop is<br>
preferred for inline rendering of simple functional components.</p>
<p>The difference between using <code>component</code> and <code>render</code> is that <code>component</code><br>
returns new JSX to be re-mounted every time the route renders, while <code>render</code><br>
simply returns to JSX what will be mounted once and re-rendered. For any given<br>
route, you should only use either the <code>component</code> prop, or the <code>render</code> prop. If<br>
both are supplied, only the <code>component</code> prop will be used.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token comment">// This inline rendering will work, but is unnecessarily slow.</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/hello<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">// This is the preferred way for inline rendering.</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/hello<span class="token punctuation">"</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>It can be helpful to use <code>render</code> instead of <code>component</code> in your <code>&lt;Route&gt;</code> when<br>
you need to pass props into the rendered component. For example, imagine that<br>
you needed to pass the <code>users</code> object as a prop to your <code>Users</code> component. Then<br>
you could pass in props from <code>Root</code> to <code>Users</code> by returning the <code>Users</code><br>
component like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// `users` to be passed as a prop:</span>
<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Andrew'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Users</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>As a reminder, <code>BrowserRouter</code> can only have a single child component. That's<br>
why you have wrapped all your routes within parent a <code>&lt;div&gt;</code> element.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Andrew'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hi<span class="token punctuation">,</span> <span class="token constant">I</span>'m Root<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/hello<span class="token punctuation">"</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Users</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>With this <code>Root</code> component, you will always render the <code>&lt;h1&gt;Hi, I'm Root!&lt;/h1&gt;</code>,<br>
regardless of the path. Because of the first <code>&lt;Route&gt;</code>, you will only render the<br>
<code>App</code> component if the path exactly matches <code>/</code>. Because of the second<br>
<code>&lt;Route&gt;</code>, you will only render the <code>Users</code> component if the path matches<br>
<code>/users</code>.</p>
<h3 class="mume-header" id="route-path-params">Route path params</h3>

<p>A component's props can also hold information about a URL's parameters. The<br>
router will match route segments starting at <code>:</code> up to the next <code>/</code>, <code>?</code>, or<br>
<code>#</code>. Those matched values are then passed to components via their props. Such<br>
segments are <em>wildcard</em> values that make up your route parameters.</p>
<p>For example, take the route below:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users/:userId<span class="token punctuation">"</span></span>
       <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Profile</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>The router would break down the full <code>/users/:userId/photos</code> path to two parts:<br>
<code>/users</code>, <code>:userId</code>.</p>
<p>The <code>Profile</code> component's props would have access to the <code>:userId</code> part of the<br>
<code>http://localhost:3000/users/:userId/photos</code> URL through the <code>props</code> with router<br>
parameter information. You would access the the <code>match</code> prop's parameters<br>
(<code>props.match.params</code>). If you are using the <code>render</code> prop of the <code>Route</code><br>
component, make sure to spread the props back into the component if you want it<br>
to know about the "match" parameters.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token comment">// Route's `render` prop allows you to pass the `users`</span>
<span class="token comment">// prop and spread the router `props`.</span>
render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Profile</span></span> <span class="token attr-name">users</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span>

</pre><p>The <code>params</code> object would then have a property of <code>userId</code> which would hold the<br>
value of the <code>:userId</code> <em>wildcard</em> value. Let's render the <code>userId</code> parameter in<br>
a user profile component. Take a moment to create a <code>Profile.js</code> file with the<br>
following code:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/Profile.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    The user's id is <span class="token punctuation">{</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">}</span><span class="token punctuation">.</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Profile<span class="token punctuation">;</span>
</pre><p>Notice how it uses the <code>match</code> prop to access the <code>:userId</code> parameter from the<br>
URL. You can use this wildcard to make and AJAX call to fetch the user<br>
information from the database and render the return data in the <code>Profile</code><br>
component. Recall that your <code>Profile</code> component was rendered at the path<br>
<code>/users/:userId</code>. Thus you can use your <code>userId</code> parameters from <code>match.params</code><br>
to fetch a specific user:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/Profile.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> users<span class="token punctuation">,</span> match<span class="token punctuation">:</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token comment">// In a real-world scenario, you'd make a call to an API to fetch the user,</span>
  <span class="token comment">// instead of passing down and keying into a `users` prop.</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> users<span class="token punctuation">[</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      The user<span class="token string">'s id is {params.userId} and the user'</span>s name is <span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">.</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Profile<span class="token punctuation">;</span>
</pre><h2 class="mume-header" id="match">Match</h2>

<p>Now that you've seen your React Router's <code>match</code> prop in action, let's go over<br>
more about <a href="https://reacttraining.com/react-router/web/api/Route/route-props">route props</a>! React Router passes information to the components as<br>
route props, accessible to all components with access to the React Router. The<br>
three props it makes available are <code>location</code>, <code>match</code> and <code>history</code>. You've<br>
learned about <code>props.match.params</code>, but now let's review the other properties of<br>
the <code>match</code> prop!</p>
<p>This is an object that contains important information about how the current URL<br>
matches the route path. Here are some of the more useful keys on the <code>match</code><br>
object:</p>
<ul>
<li><code>isExact</code>: a boolean that tells you whether or not the URL exactly matches the<br>
path</li>
<li><code>url</code>: the current URL</li>
<li><code>path</code>: the route path it matched against (without wildcards filled in)</li>
<li><code>params</code>: the matches for the individual wildcard segments, nested under their<br>
names</li>
</ul>
<p>When you use React Router, the browser <code>location</code> and <code>history</code> are a part of<br>
the state of your app. You can store information about which component should be<br>
displayed, which user profile you are currently viewing, or any other piece of<br>
state, in the browser location. You can then access that information from<br>
anywhere your Router props are passed to in your app.</p>
<p>Now that you've learned about parameters and route props, let's revisit your<br>
<code>Root</code> component to add an <code>exact</code> flag to your <code>/users</code> route so that it does<br>
not render with your <code>/users/:userId</code> route. Your component should look<br>
something like this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Andrew'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hi<span class="token punctuation">,</span> <span class="token constant">I</span>'m Root<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/hello"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* Render the `Users` page if no ID is included. */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/users"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Users users<span class="token operator">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* Otherwise, render the profile page for that userId. */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/users/:userId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Profile users<span class="token operator">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h2 class="mume-header" id="what-you-learned">What you learned</h2>

<p>In this article, you learned how to:</p>
<ul>
<li>Use components from the React Router library; and</li>
<li>Create routes to render specific components; and</li>
<li>Manage the order of rendered routes; and</li>
<li>Use the <code>exact</code> flag to ensure that a specific path renders a specific<br>
component; and</li>
<li>Use the React Router <code>match</code> prop to access Router params.</li>
</ul>
<hr>
<h1 class="mume-header" id="react-router-navigation">React Router Navigation</h1>

<p>Now that you know how to create front-end routes with React Router, you'll need<br>
to implement a way for your users to navigate the routes! This is what using<br>
React Router's <code>Link</code>, <code>NavLink</code>, <code>Redirect</code>, and <code>history</code> prop can help you<br>
do.</p>
<p>In this article, you'll be working off of the demo project you built in the<br>
React Router Intro reading. When you finish this article, you should be able to<br>
use the following components from the <code>react-router-dom</code> library:</p>
<ul>
<li><code>&lt;Link&gt;</code> or <code>&lt;NavLink&gt;</code> to create links with absolute paths to routes in your<br>
application (like "/users/1"); and,</li>
<li><code>&lt;Redirect&gt;</code> to redirect a user to another path (i.e. a login page when the<br>
user is not logged in); and</li>
<li>React Router's <code>history</code> prop to update a browser's URL programmatically.</li>
</ul>
<h2 class="mume-header" id="adding-links-for-navigation">Adding links for navigation</h2>

<p>React Router's <code>&lt;Link&gt;</code> is one way to simplify navigation around your app. It<br>
issues an on-click navigation event to a route defined in your app's router.<br>
Using <code>&lt;Link&gt;</code> renders an anchor tag with a correctly set <code>href</code> attribute.</p>
<h3 class="mume-header" id="link">Link</h3>

<p>To use it, update your imports from the <code>react-router-dom</code> package to include<br>
<code>Link</code>:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
</pre><p>Note that <code>&lt;Link&gt;</code> can take two props: <code>to</code> and <code>onClick</code>.</p>
<p>The <code>to</code> prop is a route location description that points to an absolute path,<br>
(i.e. <code>/users</code>). Add the following <code>Link</code> components in your <code>index.js</code> file<br>
above your routes:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users/1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Andrew's Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>The <code>onClick</code> prop is just like any other JSX click handler. You can write a<br>
function that takes in an <code>event</code> and handles it. Add the following <code>Link</code><br>
before your routes and the following click handler function within your <code>Root</code><br>
component:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token comment">// Link with onClick prop</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>App <span class="token keyword">with</span> click handler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Click handler function</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Thanks for clicking!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>Now, test your routes and links! If you inspect the page, you'll see that your<br>
links are now rendered as <code>&lt;a&gt;</code> elements. Notice that clicking the <code>App with click handler</code> link logs a message in your console while directing your browser<br>
to render the <code>App</code> component.</p>
<h3 class="mume-header" id="navlink">NavLink</h3>

<p>The <code>&lt;NavLink&gt;</code> works just like a <code>&lt;Link&gt;</code>, but with a little extra<br>
functionality. It has the ability to add extra styling when the path it links to<br>
matches the current path. This makes it an ideal choice for a navigation bar,<br>
hence the name. This styling can be controlled by three extra props:<br>
<code>activeClassName</code>, <code>activeStyle</code>, and <code>exact</code>. To begin using <code>NavLink</code>, update<br>
your imports from the <code>react-router-dom</code> package:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> NavLink <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
</pre><p>The <code>activeClassName</code> prop of the <code>NavLink</code> component allows you to set a CSS<br>
class name for styling the <code>NavLink</code> when its route is active. By default, the<br>
<code>activeClassName</code> is already set to <code>active</code>. This means that you simply need to<br>
add an <code>.active</code> class to your CSS file to add active styling to your link. A<br>
<code>NavLink</code> will be active if its <code>to</code> prop path matches the current URL.</p>
<p>Let's change your "Users", "Hello", and "Andrew's Profile" links to be different<br>
colors and have a larger font size when active.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/hello<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users/1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Andrew's Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>App <span class="token keyword">with</span> click handler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>For example, this is what the rendered HTML <code>&lt;a&gt;</code> tag would look like when when<br>
the browser is navigated to the <code>/</code> path or the <code>/users</code> path:</p>
<pre data-role="codeBlock" data-info="html" class="language-html"><span class="token comment">&lt;!-- Navigated to the / path (the activeClassName
     prop is set to active by default) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- NOT navigated to the `/` path --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</pre><pre data-role="codeBlock" data-info="html" class="language-html"><span class="token comment">&lt;!-- Navigated to the /users path (the activeClassName
     prop is manually set to red) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- NOT navigated to the `/users` path --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</pre><p>Import <code>NavLink</code> into your <code>index.js</code> file and take a moment to update all your<br>
<code>Link</code> elements to <code>NavLink</code> elements. Set an <code>activeClassName</code> prop to an<br>
<code>active</code> class. Add the following <code>.active</code> class to your <code>index.css</code> file:</p>
<pre data-role="codeBlock" data-info="css" class="language-css"><span class="token selector"><span class="token class">.active</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.red</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.blue</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.green</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Test your styled links! Notice how the <code>App</code> and <code>App with click handler</code> links<br>
are always bolded. This is because all of your links include the <code>/</code> path,<br>
meaning that the link to <code>/</code> will be active when browsing to <code>/users</code> and<br>
<code>/users/1</code> because of how <code>users</code> and <code>users/1</code> are both prefaced by a <code>/</code>.</p>
<p>The <code>activeStyle</code> prop is a style object that will be applied inline to the<br>
<code>NavLink</code> when its <code>to</code> prop matches the current URL. Add the following<br>
<code>activeStyle</code> to your <code>App</code> link and comment out the <code>.active</code> class in your CSS<br>
file.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">activeStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontWeight<span class="token punctuation">:</span> <span class="token string">"bold"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>The following html is rendered when at the <code>/</code> path:</p>
<pre data-role="codeBlock" data-info="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-weight</span><span class="token punctuation">:</span>bold<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</pre><p>Notice how your <code>App with click handler</code> is not bolded anymore. This is because<br>
the default <code>active</code> class being applied does not have any CSS stylings set to<br>
the class. Uncomment your <code>.active</code> class in your CSS file to bring back bolding<br>
to this NavLink.</p>
<p>The <code>exact</code> prop is a boolean that defaults to <code>false</code>. If set to <code>true</code>, then<br>
the <code>activeStyle</code> and <code>activeClassName</code> props will only be applied when the<br>
current URL exactly matches the <code>to</code> prop. Update your <code>App</code> and <code>App with click handler</code> links with an <code>exact</code> prop set. Just like in your routes, you can use<br>
the <code>exact</code> flag instead of <code>exact={true}</code>.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">exact</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span> <span class="token attr-name">activeStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontWeight<span class="token punctuation">:</span> <span class="token string">"bold"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>App <span class="token keyword">with</span> click handler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>Now your <code>App</code> and <code>App with click handler</code> links will only be bolded when you<br>
have navigated precisely to the <code>/</code> path.</p>
<h2 class="mume-header" id="switching-between-routes">Switching between routes</h2>

<p>You came across styling issues when the <code>/users</code> and <code>/users/1</code> paths matched<br>
the <code>/</code> path. Routing can have this issue as well. This is why you need to<br>
control the switching between routes.</p>
<p>React Router's <code>&lt;Switch&gt;</code> component allows you to only render one <code>&lt;Route&gt;</code> even<br>
if several match the current URL. You can nest as many <code>Route</code>s as you wish<br>
between the opening and closing <code>Switch</code> tags, but only the first one that<br>
matches the current URL will be rendered.</p>
<p>This is particularly useful if you want a default component that will only<br>
render if none of our other routes match. View the example below. Without the<br>
Switch, <code>DefaultComponent</code> would always render. Since there isn't set a path in<br>
the <code>DefaultComponent</code> route, it will simply use the default path of <code>/</code>. Now<br>
the <code>DefaultComponent</code> will only render when neither of the preceding routes<br>
match.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>some/url<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>SomeComponent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>some/other/url<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>OtherComponent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>DefaultComponent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>Import <code>Switch</code> from <code>react-router-dom</code> and add <code>&lt;Switch&gt;</code> tags around your<br>
routes to take care of ordering and switching between your routes! Begin by<br>
adding the following route to the bottom of your routes to render that a <code>404: Page not found</code> message:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token number">404</span><span class="token punctuation">:</span> Page not found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>This is what your <code>Root</code> component should look like at this point:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'andrew'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'raymond'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Thanks for clicking!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hi<span class="token punctuation">,</span> <span class="token constant">I</span>'m Root<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/"</span> exact<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> activeStyle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontWeight<span class="token punctuation">:</span> <span class="token string">"bold"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>App<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"red"</span> to<span class="token operator">=</span><span class="token string">"/users"</span><span class="token operator">&gt;</span>Users<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"blue"</span> to<span class="token operator">=</span><span class="token string">"/hello"</span><span class="token operator">&gt;</span>Hello<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"green"</span> to<span class="token operator">=</span><span class="token string">"/users/1"</span><span class="token operator">&gt;</span>Andrew's Profile<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/"</span> exact onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>App <span class="token keyword">with</span> click handler<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/users/:userId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Profile users<span class="token operator">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/users"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Users users<span class="token operator">=</span><span class="token punctuation">{</span>users<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/hello"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token number">404</span><span class="token punctuation">:</span> Page not found<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>Now you have control over the precedence of rendered components! Try navigating<br>
to <code>http://localhost:3000/asdf</code> or any other route you have not defined. The<br>
<code>&lt;h1&gt;404: Page not found&lt;/h1&gt;</code> JSX of the last <code>&lt;Route&gt;</code> will be rendered<br>
whenever the browser attempts to visit an undefined route.</p>
<h2 class="mume-header" id="redirecting-users">Redirecting users</h2>

<p>But what if you want to redirect users to a login page when they aren't logged<br>
in? The <code>&lt;Redirect&gt;</code> component from React Router helps you redirect users!</p>
<p>The component takes only one prop: <code>to</code>. When it renders, it replaces the<br>
current URL with the value of its <code>to</code> prop. Typically you conditionally render<br>
<code>&lt;Redirect&gt;</code> to redirect the user away from some page you don't want them to<br>
visit. The example below checks whether there is a defined <code>currentUser</code> prop.<br>
If so, the <code>&lt;Route&gt;</code> will render the <code>Home</code> component. Otherwise, it will<br>
redirect the user to the <code>/login</code> path.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span>
  <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span>
  <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>currentUser <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/login<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</pre><p>Note: you will learn how to use a more flexible auth pattern - don't directly<br>
imitate this example.</p>
<h2 class="mume-header" id="history">History</h2>

<p>You know how to redirect users with a <code>&lt;Redirect&gt;</code> component, but what if you<br>
need to redirect users programmatically? You've learned about the React Router's<br>
<code>match</code> prop, but now let's go over another one of the <a href="https://reacttraining.com/react-router/web/api/Route/route-props">route props</a>: <code>history</code>!</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Pushing a new URL (and adding to the end of history stack):</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/some/url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Replacing the current URL (won't be tracked in history stack):</span>
<span class="token keyword">const</span> <span class="token function-variable function">redirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/some/other/url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>This prop lets you update the URL programmatically. For example, suppose you<br>
want to push a new URL when the user clicks a button. It has two useful methods:</p>
<ul>
<li><code>push</code> - This adds a new URL to the end of the history stack. That means that<br>
clicking the back button will take the browser to the previous URL. Note that<br>
pushing the same URL multiple times in a row will have no effect; the URL will<br>
still only show up on the stack once. In development mode, pushing the same<br>
URL twice in a row will generate a console warning. This warning is disabled<br>
in production mode.</li>
<li><code>replace</code> - This replaces the current URL on the history stack, so the back<br>
button won't take you to it. For example:</li>
</ul>
<h2 class="mume-header" id="what-you-learned-1">What you learned</h2>

<p>In this article, you learned how to:</p>
<ul>
<li>Create navigation links for your route paths; and</li>
<li>Redirect users through using the <code>&lt;Redirect&gt;</code> component; and</li>
<li>Update a browser's URL programmatically by using React Router's <code>history</code><br>
prop.</li>
</ul>
<hr>
<h1 class="mume-header" id="react-router-nested-routes">React Router Nested Routes</h1>

<p>Now you know how to create front-end routes and add navigation with React<br>
Router. When initializing Express projects, you declare static routes. Static<br>
routes are routes that are declared when an application is initialized. When<br>
using React Router in your application's initialization, you can declare dynamic<br>
routes. React Router introduces dynamic routing, where your routes are created<br>
as your application is rendering. This allows you to create nested routes within<br>
components!</p>
<p>In this article, let's dive into <a href="https://reacttraining.com/react-router/core/guides/philosophy/nested-routes">nested routes</a>! When you finish the article,<br>
you should:</p>
<ul>
<li>Describe what nested routes are; and</li>
<li>Be able to use React Router to create and navigate nested routes; and</li>
<li>Know how to use the React Router <code>match</code> prop to generate links and routes.</li>
</ul>
<h2 class="mume-header" id="why-nested-routes">Why nested routes?</h2>

<p>Let's begin with why you might need nested routes. As you remember, you are<br>
using React to create a single-page application. This means that you'll be<br>
organizing your application into different components and sub-components.</p>
<p>For example, imagine creating a simple front-end application with three main<br>
pages: a home welcome page (path of <code>/</code>), a users index page (path of <code>/users</code>),<br>
and user profile pages (path of <code>/users/:userId</code>). Now imagine if every user had<br>
links to separate <code>posts</code> and <code>photos</code> pages.</p>
<p>You can create those routes and links within the user profile component, instead<br>
of creating the routes and links where the main routes are defined.</p>
<h2 class="mume-header" id="what-are-nested-routes">What are nested routes?</h2>

<p>Now let's dive into a user profile component to understand what are nested<br>
routes! Imagine you have a route in your application's entry file to each user's<br>
profile like so:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/users/:userId<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Profile<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>This means that upon navigating to <code>http://localhost:3000/users/1</code>, you would<br>
render the following <code>Profile</code> component and the <code>userId</code> parameter within<br>
<code>props.match.params</code> would have the value of <code>"1"</code>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Custom call to database to fetch a user by a user ID.</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Welcome to the profile <span class="token keyword">of</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* Links to a specific user's posts and photos */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/posts`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>'s Posts<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/photos`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>'s Photos<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* Routes to a specific user's posts and photos */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/users/:userId/posts'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>UserPosts<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/users/:userId/photos'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>UserPhotos<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>Since this route is not created until the <code>Profile</code> component is rendered, you<br>
are dynamically creating your nested <code>/users/:userId/posts</code> and<br>
<code>/users/:userId/photos</code> routes. Remember that your <code>match</code> prop also has other<br>
helpful properties. You can use <code>match.url</code> instead of <code>/users/${id}</code> in your<br>
profile links. You can also use <code>match.path</code> instead of <code>/users/:userId</code> in your<br>
profile routes. Remember that you can destructure <code>url</code>, <code>path</code>, and <code>params</code><br>
from your <code>match</code> prop!</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Destructure `match` prop</span>
<span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> match<span class="token punctuation">:</span> <span class="token punctuation">{</span> url<span class="token punctuation">,</span> path<span class="token punctuation">,</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token comment">// Custom call to database to fetch a user by a user ID.</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Welcome to the profile <span class="token keyword">of</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* Replaced `/users/${id}` URL with `props.match.url` */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/posts`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>'s Posts<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/photos`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>'s Photos<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* Replaced `/users/:userId` path with `props.match.path` */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/posts`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>UserPosts<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/photos`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>UserPhotos<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>In tomorrow's project, you'll build a rainbow of routes as well as define nested<br>
routes. In the future, you may choose to implement nested routes to keep your<br>
application's routes organized within related components.</p>
<h2 class="mume-header" id="what-you-learned-2">What you learned</h2>

<p>In this article, you learned:</p>
<ul>
<li>What nested routes are; and</li>
<li>About creating and navigating nested routes with React Router; and</li>
<li>How to use the React Router props to generate nested links and routes.</li>
</ul>
<hr>
<h1 class="mume-header" id="react-builds">React Builds</h1>

<p>A "build" is the process of converting code into something that can actually<br>
execute or run on the target platform. A "front-end build" is a process of<br>
preparing a front-end or client-side application for the browser.</p>
<p>With React applications, that means (at a minimum) converting JSX to something<br>
that browsers can actually understand. When using Create React App, the build<br>
process is automatically configured to do that and a lot more.</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Describe what front-end builds are and why they're needed;</li>
<li>Describe at a high level what happens in a Create React App when you run <code>npm start</code>; and</li>
<li>Prepare to deploy a React application into a production environment.</li>
</ul>
<h2 class="mume-header" id="understanding-front-end-builds">Understanding front-end builds</h2>

<p>The need for front-end builds predates React. Over the years, developers have<br>
found it helpful to extend the lowest common denominator version of JavaScript<br>
and CSS that they could use.</p>
<p>Sometimes developers extend JavaScript and CSS with something like<br>
<a href="https://www.typescriptlang.org/">TypeScript</a> or <a href="https://sass-lang.com/">Sass</a>. Using these non-standard languages and<br>
syntaxes require you to use a build process to convert your code into standard<br>
JavaScript and CSS that can actually run in the browser.</p>
<p>Browser-based applications also require a fair amount of optimization to deliver<br>
the best, or at least acceptable, experience to end users. Front-end build<br>
processes could be configured to lint code, run unit tests, optimize images,<br>
minify and bundle code, and more--all automatically at the press of a button<br>
(i.e. running a command at the terminal).</p>
<h3 class="mume-header" id="javascript-versions-and-the-growth-of-front-end-builds">JavaScript versions and the growth of front-end builds</h3>

<p>Developers are generally an impatient lot. When new features are added to<br>
JavaScript, we don't like to wait for browsers to widely support those features<br>
before we start to use them in our code. And we <em>really</em> don't like when we have<br>
to support older, legacy versions of browsers.</p>
<p>In recent years, JavaScript has been updated on a yearly basis and browser<br>
vendors do a decent job of updating their browsers to support the new features<br>
as they're added to the language. Years ago though, there was an infamous delay<br>
between versions 5 and 6 of JavaScript. It took <em>years</em> before ES6 (or ES2015 as<br>
it eventually was renamed to) to officially be completed and even longer before<br>
browsers supported all of its features.</p>
<p>In the period of time before ES2015 was broadly supported by browsers,<br>
developers used front-end builds to convert or <em>transpile</em> ES2015 features and<br>
syntax to an older version of the language that was more broadly supported by<br>
browsers (typically ES5). The transpilation from ES2015/ES6 down to ES5 was one<br>
of the major drivers for developers to add front-end builds to their client-side<br>
projects.</p>
<h3 class="mume-header" id="reviewing-common-terminology">Reviewing common terminology</h3>

<p>When learning about front-end or React builds, you'll encounter a lot of<br>
terminology that you may or may not be familiar with. Here's some of the<br>
terminology that you'll likely encounter:</p>
<p><strong>Linting</strong> is process of using a tool to analyze your code to catch common<br>
programming errors, bugs, stylistic inconsistencies, and suspicious coding<br>
patterns. <a href="https://eslint.org/">ESLint</a> is a popular JavaScript linting tool.</p>
<p><strong>Transpilation</strong> is the process of converting source code, like JavaScript,<br>
from one version to another version. Usually this means converting newer<br>
versions of JavaScript, <a href="https://www.ecma-international.org/ecma-262/10.0/index.html">ES2019</a> or <a href="https://tc39.es/ecma262/">ES2021</a>, to a version<br>
that's more widely supported by browsers, like <a href="http://www.ecma-international.org/ecma-262/6.0/">ES2015</a>, or even<br>
<a href="https://www.ecma-international.org/ecma-262/5.1/">ES5</a> or <a href="https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf">ES3</a> (if you need to support the browser that your parents<br>
or grandparents use).</p>
<p><strong>Minification</strong> is the process of removing all unnecessary characters in your<br>
code (e.g. white space characters, new line characters, comments) to produce an<br>
overall smaller file. Minification tools will often also rename identifers in<br>
your code (i.e. parameter and variable names) in the quest for smaller and<br>
smaller file sizes. Source maps can also be generated to allow debugging tools<br>
to cross reference between minified code and the original source code.</p>
<p><strong>Bundling</strong> is the process of combining multiple code files into a single file.<br>
Creating a bundle (or a handful of bundles) reduces the number of requests that<br>
a client needs to make to the server.</p>
<p><strong>Tree shaking</strong> is the process of removing unused (or dead) code from your<br>
application before it's bundled. Tree shaking external dependencies can<br>
sometimes have a dramatic positive impact on overall bundled file sizes.</p>
<h3 class="mume-header" id="configuration-or-code">Configuration or code?</h3>

<p>Front-end build tools have come and gone over the years; sometimes very quickly,<br>
which helped bring about the phenomenon known as <a href="https://sdtimes.com/softwaredev/is-the-javascript-fatigue-real/">JavaScript fatigue</a>.</p>
<p>Configuration based tools allow you to create your build tasks by declaring<br>
(usually using JSON, XML, or YAML) what you want to be done, without explicitly<br>
writing every step in the process. In contrast, coding or scripting based tools<br>
allow you to, well, write code to create your build tasks. Configuration based<br>
tools <em>can</em> sometimes feel simpler to use while giving up some control (at least<br>
initially) while coding based tools <em>can</em> feel more familiar and predictable<br>
(since you're describing tasks procedurally). Every generalization is false<br>
though (including this one), so there are plenty of exceptions.</p>
<p><a href="https://gruntjs.com/">Grunt</a> is a JSON configuration based task runner that can be used to<br>
orchestrate the various tasks that make up your front-end build. Grunt was very<br>
quickly supplanted by <a href="https://gulpjs.com/">Gulp</a>, which allowed developers to write JavaScript<br>
to define front-end build tasks. After Gulp, the front-end tooling landscape<br>
became a bit more muddled. Some developers preferred the simplicity of using<br>
<a href="https://docs.npmjs.com/misc/scripts">npm scripts</a> to define build tasks while others preferred the power of<br>
configuration based bundlers like <a href="https://webpack.js.org/">webpack</a>.</p>
<h3 class="mume-header" id="babel-and-webpack-yes-thats-intentionally-a-lowercase-w">Babel and webpack (yes, that's intentionally a lowercase 'w')</h3>

<p>As front-end or client-side applications grew in complexity, developers found<br>
themselves wanting to leverage more advanced JavaScript features and newer<br>
syntax like classes, arrow functions, destructuring, async/await, etc. Using a<br>
code transpiler, like <a href="https://babeljs.io/">Babel</a>, allows you to use all of the latest and<br>
greatest features and syntax without worrying about what browsers support what.</p>
<p>Module loaders and bundlers, like <a href="https://webpack.js.org/">webpack</a>, also allowed developers to use<br>
JavaScript modules without requiring users to use a browser that natively<br>
supports ES modules. Also, module bundling (along with minification and<br>
tree-shaking) helps to reduce the bandwidth that's required to deliver the<br>
assets for your application to the client.</p>
<p>[Create React App][cra] uses webpack (along with Babel) under the covers to<br>
build your React applications. Even if you're not using Create React App,<br>
webpack and Babel are still very popular choices for building React<br>
applications.</p>
<h2 class="mume-header" id="pulling-back-the-covers-a-bit-on-the-create-react-app-build-process">Pulling back the covers (a bit) on the Create React App build process</h2>

<p>Running an application created by Create React App using <code>npm start</code> can feel<br>
magical. Some stuff happens in the terminal and your application opens into your<br>
default browser. Even better, when you make changes to your application, your<br>
changes will (usually) automatically appear in the browser!</p>
<h3 class="mume-header" id="the-create-react-app-build-process">The Create React App build process</h3>

<p>At a high level, here's what happens when you run <code>npm start</code>:</p>
<ul>
<li>Environment variables are loaded (more about this in a bit);</li>
<li>The list of browsers to support are checked (more about this too in a bit);</li>
<li>The configured HTTP port is checked to ensure that it's available;</li>
<li>The application compiler is configured and created;</li>
<li><a href="https://webpack.js.org/configuration/dev-server/"><code>webpack-dev-server</code></a> is started;</li>
<li><a href="https://webpack.js.org/configuration/dev-server/"><code>webpack-dev-server</code></a> compiles your application;</li>
<li>The <code>index.html</code> file is loaded into the browser; and</li>
<li>A file watcher is started to watch your files, waiting for changes.</li>
</ul>
<h3 class="mume-header" id="ejecting">Ejecting</h3>

<p>Create React App provides a script that you can run to "eject" your application<br>
from the Create React App tooling. When you eject your application, all of the<br>
hidden stuff is exposed so that you can review and customize it.</p>
<blockquote>
<p>The need to customize Create React App rarely happens. Also, don't eject an<br>
actual project as it's a one-way trip! Once a Create React App project has<br>
been ejected, there's no going back (though you could always undo the ejection<br>
process by reverting to an earlier commit if you're using source control).</p>
</blockquote>
<p>To eject your application from Create React App, run the command <code>npm run eject</code>. You'll be prompted if you want to continue; type "y" to continue with<br>
the ejection process. Once the ejection process has completed, you can review<br>
the files that were previously hidden from you.</p>
<p>In the <code>package.json</code> file, you'll see the following npm scripts:</p>
<pre data-role="codeBlock" data-info="json" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"node scripts/start.js"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"node scripts/build.js"</span><span class="token punctuation">,</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"node scripts/test.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>You can open the <code>./scripts/start.js</code> file to see the code that's executed when<br>
you run <code>npm start</code>.</p>
<p>If you're curious about the webpack configuration, you can open and review the<br>
<code>./config/webpack.config.js</code>.</p>
<h2 class="mume-header" id="preparing-to-deploy-a-react-application-for-production">Preparing to deploy a React application for production</h2>

<p>Before you deploy your application to production, you'll want to make sure that<br>
you've replaced static values in your code with environment variables and<br>
considered what browsers you need to support.</p>
<h3 class="mume-header" id="defining-environment-variables">Defining environment variables</h3>

<p>Create React App supports defining environment variables in an <code>.env</code> file. To<br>
define an environment variable, add an <code>.env</code> file to your project and define<br>
one or more variables that start with the prefix <code>REACT_APP_</code>:</p>
<pre data-role="codeBlock" data-info="" class="language-"><code>REACT_APP_FOO: some value
REACT_APP_BAR: another value
</code></pre><p>Environment variables can be used in code like this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_FOO</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>You can also reference environment variables in your <code>index.html</code> like this:</p>
<pre data-role="codeBlock" data-info="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>%REACT_APP_BAR%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
</pre><blockquote>
<p><strong>Important:</strong> Environment variables are embedded into your HTML, CSS, and<br>
JavaScript bundles during the build process. Because of this, it's <em>very<br>
important</em> to not store any secrets, like API keys, in your environment<br>
variables as anyone can view your bundled code in the browser by inspecting<br>
your files.</p>
</blockquote>
<h3 class="mume-header" id="configuring-the-supported-browsers">Configuring the supported browsers</h3>

<p>In your project's <code>package.json</code> file, you can see the list of targeted<br>
browsers:</p>
<pre data-role="codeBlock" data-info="json" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"&gt;0.2%"</span><span class="token punctuation">,</span>
      <span class="token string">"not dead"</span><span class="token punctuation">,</span>
      <span class="token string">"not op_mini all"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"last 1 chrome version"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 firefox version"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 safari version"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Adjusting these targets affect how your code will be transpiled. Specifying<br>
older browser versions will result in your code being transpiled to older<br>
versions of JavaScript in order to be compatible with the specified browser<br>
versions. The <code>production</code> list specifies the browsers to target when creating a<br>
production build and the <code>development</code> list specifics the browsers to target<br>
when running the application using <code>npm start</code>.</p>
<p>The <a href="https://browserl.ist/">browserl.ist</a> website can be used to see the browsers supported by your<br>
configured <code>browserslist</code>.</p>
<h3 class="mume-header" id="creating-a-production-build">Creating a production build</h3>

<p>To create a production build, run the command <code>npm run build</code>. The production<br>
build process bundles React in production mode and optimizes the build for the<br>
best performance. When the command completes, you'll find your production ready<br>
files in the <code>build</code> folder.</p>
<p>Now your application is ready to be deployed!</p>
<blockquote>
<p>For more information about how to deploy a Create React App project into<br>
production, see <a href="https://facebook.github.io/create-react-app/docs/deployment">this page</a> in the official documentation.</p>
</blockquote>
<h2 class="mume-header" id="what-you-learned-3">What you learned</h2>

<p>In this article, you learned how to:</p>
<ul>
<li>Describe what front-end builds are and why they're needed;</li>
<li>Describe at a high level what happens in a Create React App when you run <code>npm start</code>; and</li>
<li>Prepare to deploy a React application into a production environment.</li>
</ul>
<hr>
<h1 class="mume-header" id="react-router-documentation">React Router Documentation</h1>

<p>Now that you've had an introduction to React Router, feel free to explore the<br>
official documentation to learn more! As you become a full-fledged software<br>
engineer, remember that documentation is your friend. You can take a brief<br>
overview for now, as the documentation might include a lot of information at<br>
first. The more you learn about React, the more you should revisit the official<br>
documentation and learn!</p>
<h2 class="mume-header" id="setting-up-react-router">Setting up React Router</h2>

<ul>
<li><a href="https://reacttraining.com/react-router/web/guides/quick-start">React Router Quick<br>
Start</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/HashRouter">HashRouter</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/BrowserRouter">BrowserRouter</a></li>
</ul>
<h2 class="mume-header" id="routes-and-links">Routes and Links</h2>

<ul>
<li><a href="https://reacttraining.com/react-router/web/api/Route">Route</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/Link">Link</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/NavLink">NavLink</a></li>
</ul>
<h2 class="mume-header" id="switch-and-redirect">Switch and Redirect</h2>

<ul>
<li><a href="https://reacttraining.com/react-router/web/api/Switch">Switch</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/Redirect">Redirect</a></li>
</ul>
<h2 class="mume-header" id="react-router-params-ownprops">React Router Params (ownProps)</h2>

<ul>
<li><a href="https://reacttraining.com/react-router/web/api/history">props.history</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/location">props.location</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/match">props.match</a></li>
</ul>
<hr>
<h1 class="mume-header" id="rainbow-routes-project">Rainbow Routes Project</h1>

<p>Today you're going to get our first experience using React Router. The goal is<br>
to create a basic app that displays the colors of the rainbow. This rainbow,<br>
however, has something special about it - some of the colors are nested within<br>
others.</p>
<h2 class="mume-header" id="phase-0-setup">Phase 0: Setup</h2>

<p>Begin by creating a new React project:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash">npx create-react-app rainbow-routes --template @appacademy/simple
</pre><p>Now you'll remove all the contents of your <code>src</code> and all the contents from your<br>
<code>public</code> directory to build the application architecture from scratch! After you<br>
have deleted all your files within the directories, create a new <code>index.html</code><br>
file in your <code>public</code> folder. Use the <code>html:5</code> emmet shortcut to generate an<br>
HTML template. Title your page "Rainbow Routes" and create a <code>div</code> with an <code>id</code><br>
of <code>root</code> in your DOM's <code>&lt;body&gt;</code> element. Create an <code>index.css</code> file in your<br>
<code>src</code> directory with the following code. Now let's create your entry file!</p>
<pre data-role="codeBlock" data-info="css" class="language-css"><span class="token selector">h4</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> darkblue<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">h4<span class="token pseudo-class">:hover</span></span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token id">#rainbow</span></span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">h3</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.red</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.orange</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.yellow</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.green</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.blue</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.indigo</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> mediumslateblue<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.violet</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> darkviolet<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Create an <code>index.js</code> entry file in the <code>src</code> directory. At the top of the file,<br>
make sure to import <code>React</code> from the <code>react</code> package and <code>ReactDOM</code> from the<br>
<code>react-dom</code> package. Make sure to also import your the <code>index.css</code> file you just<br>
created! This will take care of styling your <em>rainbow routes</em>.</p>
<p>Now you can use the <code>ReactDOM.render()</code> method to render a <code>&lt;Root /&gt;</code> component<br>
instead of the DOM element with an <code>id</code> of <code>root</code>. Lastly, wrap your render<br>
function with a <code>DOMContentLoaded</code> event listener, like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Root <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Let's create your <code>Root</code> component right in your entry file! Your <code>Root</code><br>
component will take care of applying your <code>BrowserRouter</code> to the application.<br>
Applying the <code>BrowserRouter</code> to your <code>Root</code> component allows all the child<br>
components rendering within <code>&lt;BrowserRouter&gt;</code> tags to use and access the <code>Route</code>,<br>
<code>Link</code>, and <code>NavLink</code> components within the <code>react-router-dom</code> package.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token comment">// TODO: Apply BrowserRouter</span>
  <span class="token comment">// TODO: Render rainbow</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Install the <code>react-router-dom</code> package:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> react-router-dom@^5.0.0
</pre><p>Now import <code>BrowserRouter</code> from the <code>react-router-dom</code> package, like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
</pre><p>You're going to be rendering a lot of components, so let's keep your <code>src</code><br>
directory organized by creating a <code>components</code> directory within. Within your new<br>
<code>./src/components</code> directory, create a <code>Rainbow.js</code> file for your <code>Rainbow</code><br>
component with the following code:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/components/Rainbow.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> NavLink <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Rainbow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Rainbow Router<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* Your links should go here */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"rainbow"</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* Your routes should go here */</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Rainbow<span class="token punctuation">;</span>
</pre><p>Your <code>Rainbow</code> component will act as the home page or default path (<code>/</code>) of your<br>
application. Import the <code>Rainbow</code> component into your entry file and have your<br>
<code>Root</code> component render <code>&lt;Rainbow /&gt;</code> wrapped within <code>&lt;BrowserRouter&gt;</code> tags,<br>
like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Root</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Rainbow <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Within your <code>Rainbow</code> component, you'll be rendering <code>&lt;NavLink&gt;</code> and <code>&lt;Route&gt;</code><br>
components to add different navigation paths to different components. Let's<br>
create all the components you will render!</p>
<p>Create files for the following components in your <code>./src/components</code> directory:</p>
<ul>
<li><code>Red</code></li>
<li><code>Blue</code></li>
<li><code>Green</code></li>
<li><code>Indigo</code></li>
<li><code>Orange</code></li>
<li><code>Violet</code></li>
<li><code>Yellow</code></li>
</ul>
<p>Your <code>Red</code> and <code>Blue</code> components will look something like this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> NavLink <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Color</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"color"</span><span class="token operator">&gt;</span>Color<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* Links here */</span><span class="token punctuation">}</span>

    <span class="token punctuation">{</span><span class="token comment">/* Routes here */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Color<span class="token punctuation">;</span>
</pre><p>Your <code>Green</code>, <code>Indigo</code>, <code>Orange</code>, <code>Violet</code>, and <code>Yellow</code> components will look<br>
something like this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Color</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">"color"</span><span class="token operator">&gt;</span>Color<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Color<span class="token punctuation">;</span>
</pre><p>Now start your server and verify you can see the "Rainbow Router!" header from<br>
your <code>Rainbow</code> component. Currently there is no functionality. Let's fix that!</p>
<h2 class="mume-header" id="phase-1-routes">Phase 1: Routes</h2>

<p>As a reminder, wrapping the <code>Rainbow</code> component in <code>&lt;BrowserRouter&gt;</code> tags makes<br>
the router available to all descendent React Router components. Now open the<br>
<code>Rainbow.js</code> file. You're going to render some of your color components from<br>
here. Ultimately you want your routes to look like this.</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Components</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/</code></td>
<td><code>Rainbow</code></td>
</tr>
<tr>
<td><code>/red</code></td>
<td><code>Rainbow -&gt; Red</code></td>
</tr>
<tr>
<td><code>/red/orange</code></td>
<td><code>Rainbow -&gt; Red -&gt; Orange</code></td>
</tr>
<tr>
<td><code>/red/yellow</code></td>
<td><code>Rainbow -&gt; Red -&gt; Yellow</code></td>
</tr>
<tr>
<td><code>/green</code></td>
<td><code>Rainbow -&gt; Green</code></td>
</tr>
<tr>
<td><code>/blue</code></td>
<td><code>Rainbow -&gt; Blue</code></td>
</tr>
<tr>
<td><code>/blue/indigo</code></td>
<td><code>Rainbow -&gt; Blue -&gt; Indigo</code></td>
</tr>
<tr>
<td><code>/violet</code></td>
<td><code>Rainbow -&gt; Violet</code></td>
</tr>
</tbody>
</table>
<p>This means that the <code>Red</code>, <code>Green</code>, <code>Blue</code>, and <code>Violet</code> components need to<br>
render in the <code>Rainbow</code> component, but only when you are at the corresponding<br>
URL. You'll do this with <code>Route</code> components. Begin by importing the <code>Red</code>,<br>
<code>Green</code>, <code>Blue</code>, and <code>Violet</code> components into your <code>Rainbow.js</code> file. Then add<br>
the necessary <code>Route</code> components inside the <code>div</code> with <code>id="rainbow"</code> in the<br>
<code>Rainbow</code> component. For example to render the <code>Red</code> component with the <code>/red</code><br>
path, you would use the following <code>Route</code> component:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/red<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Red<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</pre><p>Test that your code works! Manually type in each URL you just created, and you<br>
should see the color component pop up. Remember, these are React Routes, so the<br>
paths you created will come after the <code>/</code>. For example, your default rainbow<br>
route will look like <code>http://localhost:3000/</code> while your red route will look<br>
like <code>http://localhost:3000/red</code>.</p>
<p>You want to nest the <code>Orange</code> and <code>Yellow</code> components inside the <code>Red</code><br>
component, and the <code>Indigo</code> component inside the <code>Blue</code> component. Remember to<br>
import your components to use them in a <code>Route</code> tag. You'll have to go add the<br>
corresponding <code>Route</code> tags to the <code>Red.js</code> and <code>Blue.js</code> files. Make sure to use<br>
the correct nested paths, such as <code>"/red/orange"</code> for the orange <code>Route</code>.</p>
<h2 class="mume-header" id="phase-2-links">Phase 2: Links</h2>

<p>Manually navigating to our newly created routes is tiresome, so let's add<br>
functionality to take care of this process for us. React Router provides the<br>
<code>Link</code> and <code>NavLink</code> components for this purpose.</p>
<p>Add <code>Link</code>s to the paths <code>/red</code>, <code>/green</code>, <code>/blue</code>, and <code>/violet</code> in the<br>
<code>Rainbow</code> component. For example, your red link should look like</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/red<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>When you are at <code>blue</code> you want to be able to get to <code>/blue/indigo</code>, and then<br>
back to <code>/blue</code>. Add the corresponding <code>Link</code>s to the <code>Blue</code> component like<br>
this:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/blue<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>Blue only<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/blue/indigo<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>Add indigo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>Similarly, add <code>Link</code>s to <code>/red</code>, <code>/red/orange</code> and <code>/red/yellow</code> to the <code>Red</code><br>
component. Test all your links. Navigation is so much easier now!</p>
<h2 class="mume-header" id="phase-3-navlinks">Phase 3: NavLinks</h2>

<p>It would be nice if our links gave us some indication of which route you were<br>
at. Fortunately, React Router has a special component for that very purpose:<br>
<code>NavLink</code>. NavLinks get an extra CSS class when their <code>to</code> prop matches the<br>
current URL. By default this class is called <code>active</code>.</p>
<p>Go ahead and switch all your <code>Link</code>s to <code>NavLink</code>s. If you open the app you<br>
won't see any change yet. That's because you haven't added any special styling<br>
to the <code>active</code> class. Go ahead and open the <code>index.css</code> file. Create an<br>
<code>.active</code> class and add the line <code>font-weight: 700</code>. Now your active links will<br>
be bold. Isn't that nice!</p>
<p>The only problem is that now the <code>Blue only</code> link is active even when the path<br>
is <code>/blue/indigo</code>. That doesn't make a lot of sense. Let's add the <code>exact</code> flag<br>
to that link so it will only be active when its <code>to</code> exactly matches the current<br>
path. Now it should look like:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/blue<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Blue only
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</pre><p>Do the same for the <code>Red only</code> link. Everything should be working now.</p>
<h1 class="mume-header" id="phase-4-changing-navlinks-active-class">Phase 4 - Changing NavLink's Active Class</h1>

<p>You've already set up <code>NavLink</code> to <strong>bold</strong> the link text using the <code>.active</code><br>
class in <code>src/index.css</code>. But what if you wanted this class to be something<br>
else? For instance, what if you want your main color links (Red, Green, Blue,<br>
Violet) to be styled differently when active than your sub-route links (Red<br>
Only, Add Orange, Add Yellow, etc.).</p>
<p>You can set the class that React Router sets to an active <code>NavLink</code> by adding<br>
the <code>activeClassName</code> prop.</p>
<p>For instance, when we are at a route matching the below <code>NavLink</code>'s <code>to</code> prop,<br>
the component will have a class of <code>.parent-active</code> applied:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">"/blue"</span> activeClassName<span class="token operator">=</span><span class="token string">"parent-active"</span> <span class="token operator">&gt;</span>
  Blue
<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
</pre><p>This allows much more flexibility to style an active <code>NavLink</code>!</p>
<p>Using the example above, add an <code>activeClassName</code> prop to each of your<br>
<code>NavLink</code>s in <code>src/components/Rainbow.js</code>. Now, add some CSS styling for that<br>
class in your <code>src/index.css</code> to distinguish your main and your sub-route links.</p>
<p>Compare your work to the solution and make sure the behavior is the same. Time<br>
to celebrate! ✨ 🌈 ✨</p>
<p>You can also learn more about using the React Router at <a href="https://reacttraining.com/react-router/web/guides/quick-start">reacttraining.com</a>!</p>
<hr>
<h1 class="mume-header" id="exploring-react-builds-project">Exploring React Builds Project</h1>

<p>In this project, you'll use Create React App to create a simple React<br>
application. You'll experiment with some of the features that Create React App<br>
provides and deploy a production build of your application to a standalone<br>
Express application.</p>
<h2 class="mume-header" id="phase-0-setup-1">Phase 0: Setup</h2>

<p>Begin by using the <a href="https://github.com/facebook/create-react-app">create-react-app</a> package to create a React application:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash">npx create-react-app exploring-react-builds --template @appacademy/simple
</pre><blockquote>
<p>Remember that using the <code>create-react-app</code> command initializes your project<br>
as a Git repository. If you use the <code>ls -a</code> to view the hidden files in your<br>
project, you'll see the <code>.git</code> file.</p>
</blockquote>
<p>Update the <code>App</code> component:</p>
<ul>
<li>Wrap the <code>&lt;h1&gt;</code> element with a <code>&lt;div&gt;</code> element; and</li>
<li>Change the <code>&lt;h1&gt;</code> element content to something like "Exploring React Builds".</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Exploring React Builds<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><h2 class="mume-header" id="phase-1-using-css-modules">Phase 1: Using CSS modules</h2>

<p>You've already seen an example of using the <code>import</code> keyword to import a<br>
stylesheet into a module so that it'll be included in your application build.<br>
That's the technique being used to include the global <code>index.css</code> stylesheet:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/index.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>You can also leverage <a href="https://github.com/css-modules/css-modules">CSS modules</a> in your Create React App<br>
projects. CSS Modules scope stylesheet class names so that they are unique to a<br>
specific React component. This allows you to create class names without having<br>
to worry if they might collide with class names used in another component.</p>
<p>Add a new <code>css-modules</code> folder to the <code>src</code> folder. Within that folder, add the<br>
following files:</p>
<ul>
<li><code>HeadingA.js</code></li>
<li><code>HeadingA.module.css</code></li>
<li><code>HeadingB.js</code></li>
<li><code>HeadingB.module.css</code></li>
</ul>
<p>Then update the contents of each file to the following:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/css-modules/HeadingA.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./HeadingA.module.css'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">HeadingA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>heading<span class="token punctuation">}</span><span class="token operator">&gt;</span>Heading <span class="token constant">A</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HeadingA<span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="css" class="language-css"><span class="token comment">/* ./src/css-modules/HeadingA.module.css */</span>

<span class="token selector"><span class="token class">.heading</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/css-modules/HeadingB.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./HeadingB.module.css'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">HeadingB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>heading<span class="token punctuation">}</span><span class="token operator">&gt;</span>Heading <span class="token constant">B</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HeadingB<span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="css" class="language-css"><span class="token comment">/* ./src/css-modules/HeadingB.module.css */</span>

<span class="token selector"><span class="token class">.heading</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Notice how the <code>.heading</code> CSS class name is being used within each component to<br>
set the color of the <code>&lt;h1&gt;</code> element. For the <code>HeadingA</code> component, the color is<br>
<code>green</code>, and for the <code>HeadingB</code> component, the color is <code>red</code>. Using the file<br>
naming convention <code>[name].module.css</code> let's Create React App know that we want<br>
these stylesheets to be processed as CSS Modules. Using CSS Modules allows the<br>
<code>.heading</code> class name to be reused across components without any issue.</p>
<p>To see this feature in action, update your <code>App</code> component to render both of<br>
your new components:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingA <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingA'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingB <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingB'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Exploring React Builds<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingA <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingB <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><p>Then run your application (<code>npm start</code>) to see "Heading A" and "Heading B"<br>
displayed respectively in green and red. If you use the browser's developer<br>
tools to inspect "Heading A", you'll see that the <code>.heading</code> class name has been<br>
modified so that it's unique to the <code>HeadingA</code> component:</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-css-modules.png" alt="react builds css modules"></p>
<p>CSS Modules is an example of how a front-end build process can be used to modify<br>
code to enable a feature that's not natively supported by browsers.</p>
<h2 class="mume-header" id="phase-2-using-an-image-in-a-component">Phase 2: Using an image in a component</h2>

<p>Create React App configures webpack with support for loading images (as well as<br>
CSS, fonts, and other file types). What this means, for you as the developer, is<br>
that you can add an image file to your project, import it directly into a<br>
module, and render it in a React component.</p>
<p>Download any image of off the Web or <a href="./w14-d4_react-router-and-react-builds_files/react-builds-cat.png">click here</a> to download<br>
the below image.</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-cat.png" alt="react builds cat"></p>
<p>Then within the <code>src</code> folder add a new folder named <code>image</code>. Within that folder<br>
add a new component file named <code>Image.js</code>. Also add your downloaded image file<br>
to the <code>image</code> folder (so it's a sibling to the <code>Image.js</code> file).</p>
<p>Update the contents of the <code>Image.js</code> file to this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/image/Image.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cat <span class="token keyword">from</span> <span class="token string">'./react-builds-cat.png'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /static/media/react-builds-cat.45f7f4d2.png</span>

<span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Import result is the URL of your image.</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>cat<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">"images/images/Cat"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Image<span class="token punctuation">;</span>
</pre><p>You can import an image into a component using the <code>import</code> keyword. This tells<br>
webpack to include the image in the build. Notice that when you import an image<br>
into a module, you'll get a path to the image's location within the build. You<br>
can use this path to set the <code>src</code> attribute on an <code>&lt;img&gt;</code> element.</p>
<blockquote>
<p>Be sure to update the image <code>import</code> statement to the correct file name if<br>
you're using your own image!</p>
</blockquote>
<p>Now update the <code>App</code> component to import and render the <code>Image</code> component:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingA <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingA'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingB <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingB'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">'./image/Image'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Exploring React Builds<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingA <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingB <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Image <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><p>If you run your application (<code>npm start</code>) you'll see your image displayed on the<br>
page! You can also open your browser's developer tools and view the "Sources"<br>
for the current page. If you can expand the <code>localhost:3000</code> &gt; <code>static</code> &gt;<br>
<code>media</code> node on the left, you can see the image file that webpack copied to your<br>
build.</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-dev-tools-image.png" alt="react builds dev tools image"></p>
<h3 class="mume-header" id="images-in-stylesheets">Images in stylesheets</h3>

<p>You can also reference images in your CSS files too. Add a CSS file named<br>
<code>Image.css</code> to the <code>./src/image</code> folder and update its contents to this:</p>
<pre data-role="codeBlock" data-info="css" class="language-css"><span class="token comment">/* ./src/image/Image.css */</span>

<span class="token selector"><span class="token class">.cat</span></span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(./react-builds-cat.png)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">400</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">400</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Then update the <code>Image</code> component to this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/image/Image.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./Image.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cat <span class="token keyword">from</span> <span class="token string">'./react-builds-cat.png'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /static/media/react-builds-cat.45f7f4d2.png</span>

<span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* Import result is the URL of your image. */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>cat<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">"Cat"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'cat'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Image<span class="token punctuation">;</span>
</pre><p>Now you'll see the image displayed twice on the page!</p>
<h2 class="mume-header" id="phase-3-updating-the-supported-browsers-and-its-affect-on-code-transpilation">Phase 3: Updating the supported browsers (and its affect on code transpilation)</h2>

<p>Earlier you learned about the <code>browerslist</code> setting in the <code>package.json</code> file<br>
and now adjusting these targets affect how your code will be transpiled:</p>
<pre data-role="codeBlock" data-info="json" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"&gt;0.2%"</span><span class="token punctuation">,</span>
      <span class="token string">"not dead"</span><span class="token punctuation">,</span>
      <span class="token string">"not op_mini all"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"last 1 chrome version"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 firefox version"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 safari version"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>The <code>production</code> list specifies the browsers to target when creating a<br>
production build and the <code>development</code> list specifics the browsers to target<br>
when running the application using <code>npm start</code>. Currently, you're targeting<br>
relatively recent versions of the major browsers when creating a development<br>
build. Targeting older browser versions results in your code being transpiled to<br>
an older version of JavaScript.</p>
<p>To experiment with this configuration option, let's add a class component to the<br>
project. Add a new folder named <code>class-component</code> to the <code>src</code> folder. Within<br>
that folder, add a file named <code>ClassComponent.js</code> containing the following code:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/class-component/ClassComponent.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClassComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Class Component<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClassComponent<span class="token punctuation">;</span>
</pre><p>Don't forget to update your <code>App</code> component to render the new component:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingA <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingA'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingB <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingB'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">'./image/Image'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ClassComponent <span class="token keyword">from</span> <span class="token string">'./class-component/ClassComponent'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Exploring React Builds<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingA <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingB <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Image <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ClassComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><p>Now run your application using <code>npm start</code>. Open your browser's developer tools<br>
and view the "Sources" for the current page. Expand the <code>localhost:3000</code> &gt;<br>
<code>static</code> &gt; <code>js</code> node on the left and select the <code>main.chunk.js</code> file. Press<br>
<code>CMD+F</code> on macOS or <code>CTRL+F</code> on Windows to search the file for "Class<br>
Component". Here's what the transpiled code looks like for the <code>ClassComponent</code><br>
class:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">ClassComponent</span> <span class="token keyword">extends</span> <span class="token class-name">react__WEBPACK_IMPORTED_MODULE_0___default<span class="token punctuation">.</span>a<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token comment">/*#__PURE__*/</span>react__WEBPACK_IMPORTED_MODULE_0___default<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      __self<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
      __source<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        fileName<span class="token punctuation">:</span> _jsxFileName<span class="token punctuation">,</span>
        lineNumber<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        columnNumber<span class="token punctuation">:</span> <span class="token number">7</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"Class Component"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p>Have you wondered yet why you need to use the developer tools to view the<br>
bundles generated by Create React App? Remember that when you run <code>npm start</code>,<br>
Create React App builds your application using <a href="https://webpack.js.org/configuration/dev-server/"><code>webpack-dev-server</code></a>. To keep<br>
things as performant as possible, the bundles generated by<br>
<a href="https://webpack.js.org/configuration/dev-server/"><code>webpack-dev-server</code></a> are stored in memory instead of writing them to the<br>
file system.</p>
</blockquote>
<p>The JSX in the component's <code>render</code> method has been converted to JavaScript but<br>
the <code>ClassComponent</code> ES2015 class is left alone. This makes sense though as JSX<br>
isn't natively supported by any browser while ES2015 classes have been natively<br>
supported by browsers for awhile now.</p>
<p>But what if you need to target a version of a browser that doesn't support<br>
ES2015 classes? You can use the <a href="https://caniuse.com/#feat=es6-class">"Can I use..."</a> website to<br>
see when browsers started supporting ES2105 (or ES6) classes. Starting with<br>
version 49, Chrome natively supported classes. But imagine that you need to<br>
support Chrome going back to version 30, a version of Chrome that doesn't<br>
support classes.</p>
<p>Change the <code>browserslist.development</code> property in the <code>package.json</code> file to<br>
this:</p>
<pre data-role="codeBlock" data-info="json" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"&gt;0.2%"</span><span class="token punctuation">,</span>
      <span class="token string">"not dead"</span><span class="token punctuation">,</span>
      <span class="token string">"not op_mini all"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"chrome &gt;= 30"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 firefox version"</span><span class="token punctuation">,</span>
      <span class="token string">"last 1 safari version"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>The query <code>chrome &gt;= 30</code> specifies that you want to target Chrome version 30 or<br>
newer.</p>
<blockquote>
<p>The <a href="https://browserl.ist/">browserl.ist</a> website can be used to see the browsers supported by your<br>
configured <code>browserslist</code>.</p>
</blockquote>
<p>Stop your application if it's currently running. Delete the<br>
<code>./node_modules/.cache</code> folder and run <code>npm start</code> again. Then view the<br>
<code>main.chunk.js</code> bundle again in the developer tools:</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-transpilation.png" alt="react builds transpilation"></p>
<p>Now your ES2015 class component is being converted to a constructor function!<br>
Here's the transpiled code for reference:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">var</span> ClassComponent <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_React$Component</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Object</span><span class="token punctuation">(</span>_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__<span class="token punctuation">[</span><span class="token string">"default"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ClassComponent<span class="token punctuation">,</span> _React$Component<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> _super <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__<span class="token punctuation">[</span><span class="token string">"default"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ClassComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">ClassComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Object</span><span class="token punctuation">(</span>_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">[</span><span class="token string">"default"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> ClassComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">_super</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">Object</span><span class="token punctuation">(</span>_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">"default"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ClassComponent<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    key<span class="token punctuation">:</span> <span class="token string">"render"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">value</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token comment">/*#__PURE__*/</span>react__WEBPACK_IMPORTED_MODULE_4___default<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        __self<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
        __source<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          fileName<span class="token punctuation">:</span> _jsxFileName<span class="token punctuation">,</span>
          lineNumber<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
          columnNumber<span class="token punctuation">:</span> <span class="token number">7</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"Class Component"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> ClassComponent<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span>react__WEBPACK_IMPORTED_MODULE_4___default<span class="token punctuation">.</span>a<span class="token punctuation">.</span>Component<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Luckily it's very rare that you'll need to read the code in your generated<br>
bundles. webpack, by default, is configured to generate sourcemaps. Sourcemaps<br>
are a mapping of the code in a generated file, like a bundle file, to the<br>
original source code. This gives you access to your original source code in the<br>
browser's developer tools:</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-sourcemaps.png" alt="react builds sourcemaps"></p>
<p>You can even set a breakpoint in your source within the developer tools to stop<br>
execution on a specific line of code!</p>
<h2 class="mume-header" id="phase-4-adding-environment-variables">Phase 4: Adding environment variables</h2>

<p>Earlier you learned that Create React App supports defining environment<br>
variables in an <code>.env</code> file. This gives you a convenient way to avoid hard<br>
coding values that vary across environments.</p>
<p>Let's experiment with this feature so that you can see how the Create React App<br>
build process embeds environment variables into your HTML, CSS, and JavaScript<br>
bundles.</p>
<p>Add an <code>.env</code> file to the root of your Create React App project. Define an<br>
environment variable named <code>REACT_APP_TITLE</code>:</p>
<pre data-role="codeBlock" data-info="" class="language-"><code>REACT_APP_TITLE=Exploring React Builds
</code></pre><p>Remember that environment variables need to be prefixed with <code>REACT_APP_</code> for<br>
Create React App to process them. After defining your environment variable,<br>
you can refer to it within JSX using an expression and <code>process.env</code>:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingA <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingA'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingB <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingB'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">'./image/Image'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ClassComponent <span class="token keyword">from</span> <span class="token string">'./class-component/ClassComponent'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_TITLE</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingA <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HeadingB <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Image <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ClassComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><p>Environment variables can also be referred to in regular JavaScript code:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_TITLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>You can also reference environment variables in your <code>./public/index.html</code> file<br>
like this:</p>
<pre data-role="codeBlock" data-info="html" class="language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>%REACT_APP_TITLE%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</pre><p>Run your application again using <code>npm start</code>. Open your browser's developer<br>
tools and view the "Sources" for the current page. Expand the <code>localhost:3000</code><br>
node on the left and select <code>(index)</code>. Notice that the text <code>%REACT_APP_TITLE%</code><br>
within the <code>&lt;title&gt;</code> element has been converted to the text literal <code>Exploring React Builds</code>:</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-index-html.png" alt="react builds index html"></p>
<p>If you expand the <code>localhost:3000</code> &gt; <code>static</code> &gt; <code>js</code> node on the left and select<br>
the <code>main.chunk.js</code> file, you can see how the <code>App</code> component's JSX has been<br>
converted to JavaScript:</p>
<p><img src="./w14-d4_react-router-and-react-builds_files/react-builds-component-env-var.png" alt="react builds component env var"></p>
<p>Here's a closer look at the relevant <code>React.createElement</code> method call:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">/*#__PURE__*/</span>react__WEBPACK_IMPORTED_MODULE_0___default<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    __self<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
    __source<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      fileName<span class="token punctuation">:</span> _jsxFileName<span class="token punctuation">,</span>
      lineNumber<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      columnNumber<span class="token punctuation">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"Exploring React Builds"</span><span class="token punctuation">)</span>
</pre><p>Again, notice how the environment variable has been replaced with a text<br>
literal. This has important security implications for you to consider. Because<br>
environment variables are embedded into your HTML, CSS, and JavaScript bundles<br>
during the build process, it's <em>very important</em> to not store any secrets, like<br>
API keys, in your environment variables. Remember, anyone can view your bundled<br>
code in the browser by inspecting your files!</p>
<h2 class="mume-header" id="phase-5-deploying-a-production-build">Phase 5: Deploying a production build</h2>

<p>In the last phase of this project, let's add routing to the React application,<br>
create a production build, and deploy the build to an Express application!</p>
<h3 class="mume-header" id="adding-routing">Adding routing</h3>

<p>To add React Router to the application, start by installing the<br>
<code>react-router-dom</code> npm package:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> react-router-dom@^5.0.0
</pre><p>Then update the <code>App</code> component to this code:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./src/App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  BrowserRouter<span class="token punctuation">,</span>
  Switch<span class="token punctuation">,</span>
  Route<span class="token punctuation">,</span>
  Link
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingA <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingA'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HeadingB <span class="token keyword">from</span> <span class="token string">'./css-modules/HeadingB'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">'./image/Image'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ClassComponent <span class="token keyword">from</span> <span class="token string">'./class-component/ClassComponent'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_TITLE</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/image"</span><span class="token operator">&gt;</span>Image<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/class-component"</span><span class="token operator">&gt;</span>Class Component<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/image"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Image <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/class-component"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ClassComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>HeadingA <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>HeadingB <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</pre><p>Be sure to run and test your application to ensure that the defined routes work<br>
as expected:</p>
<ul>
<li><code>/</code> - Should display the <code>HeadingA</code> and <code>HeadingB</code> components;</li>
<li><code>/image</code> - Should display the <code>Image</code> component; and</li>
<li><code>/class-component</code> - Should display the <code>ClassComponent</code> component.</li>
</ul>
<h3 class="mume-header" id="creating-a-production-build-1">Creating a production build</h3>

<p>To create a production build, run the command <code>npm run build</code> from the root of<br>
your project. The output in the terminal should look something like this:</p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token operator">&gt;</span> solution@0.1.0 build <span class="token punctuation">[</span>absolute path to your project<span class="token punctuation">]</span>
<span class="token operator">&gt;</span> react-scripts build

Creating an optimized production build<span class="token punctuation">..</span>.
Compiled successfully.

File sizes after gzip:

  47.83 KB  build/static/js/2.722c16c4.chunk.js
  773 B     build/static/js/runtime-main.b7d1e5ee.js
  745 B     build/static/js/main.12299197.chunk.js
  197 B     build/static/css/main.e9a0d1f8.chunk.css

The project was built assuming it is hosted at /.
You can control this with the homepage field <span class="token keyword">in</span> your package.json.

The build folder is ready to be deployed.
You may serve it with a static server:

  <span class="token function">npm</span> <span class="token function">install</span> -g serve
  serve -s build

Find out <span class="token function">more</span> about deployment here:

  bit.ly/CRA-deploy
</pre><p><strong>Ignore the comments about using <code>serve</code> to deploy your application (i.e. <code>npm install -g serve</code> and <code>serve -s build</code>).</strong> In the next step, you'll create a<br>
simple Express application to server your React application.</p>
<h3 class="mume-header" id="serving-a-react-application-using-express">Serving a React application using Express</h3>

<p>Create a new folder for your Express application outside of the Create React App<br>
project folder.</p>
<blockquote>
<p>For example, from the root of your project, use <code>cd ..</code> to go up a level and<br>
then create a new folder named <code>express-server</code> by running the command <code>mkdir express-server</code>. This makes the <code>express-server</code> folder a sibling to your<br>
Create React App project folder.</p>
</blockquote>
<p>Browse into the <code>express-server</code> folder and initialize it to use npm (i.e.<br>
<code>npm init -y</code>). Then install Express by running the command<br>
<code>npm install express@^4.0.0</code>.</p>
<p>App a file named <code>app.js</code> with the following contents:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// ./app.js</span>

<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">9000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>This simple Express application will:</p>
<ul>
<li>Attempt to match incoming requests to static files located in the <code>public</code><br>
folder; and</li>
<li>If a matching static file isn't found, then the <code>./public/index.html</code> file<br>
will be served for all other requests.</li>
</ul>
<p>Now add a folder named <code>public</code> to the root of your Express project. Copy the<br>
files from the <code>build</code> folder in your Create React App project to the <code>public</code><br>
folder in the Express application project. Then run your application using the<br>
command <code>node app.js</code>.</p>
<p>Open a browser and browse to the URL <code>http://localhost:9000/</code>. You should see<br>
your React application served from your Express application! Be sure to click<br>
the navigation links to verify that all of your configured routes work as<br>
expected.</p>
<p>Also, because you configured Express to serve the <code>./public/index.html</code> file for<br>
any request that doesn't match a static file, you can "deep link" to any of your<br>
React application's routes:</p>
<ul>
<li><a href="http://localhost:9000/image">http://localhost:9000/image</a></li>
<li><a href="http://localhost:9000/class-component">http://localhost:9000/class-component</a></li>
</ul>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-learning-objectives">React Router Learning Objectives</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-builds-learning-objectives">React Builds Learning Objectives</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-introduction">React Router Introduction</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#getting-started-with-routing">Getting started with routing</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#browserrouter">BrowserRouter</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#hashrouter">HashRouter</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#creating-frontend-routes">Creating frontend routes</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#component">component</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#path">path</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#exact">exact</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#render">render</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#route-path-params">Route path params</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#match">Match</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-navigation">React Router Navigation</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#adding-links-for-navigation">Adding links for navigation</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#link">Link</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#navlink">NavLink</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#switching-between-routes">Switching between routes</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#redirecting-users">Redirecting users</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#history">History</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-1">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-nested-routes">React Router Nested Routes</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#why-nested-routes">Why nested routes?</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-are-nested-routes">What are nested routes?</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-2">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-builds">React Builds</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#understanding-front-end-builds">Understanding front-end builds</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#javascript-versions-and-the-growth-of-front-end-builds">JavaScript versions and the growth of front-end builds</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#reviewing-common-terminology">Reviewing common terminology</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#configuration-or-code">Configuration or code?</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#babel-and-webpack-yes-thats-intentionally-a-lowercase-w">Babel and webpack (yes, that's intentionally a lowercase 'w')</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#pulling-back-the-covers-a-bit-on-the-create-react-app-build-process">Pulling back the covers (a bit) on the Create React App build process</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#the-create-react-app-build-process">The Create React App build process</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#ejecting">Ejecting</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#preparing-to-deploy-a-react-application-for-production">Preparing to deploy a React application for production</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#defining-environment-variables">Defining environment variables</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#configuring-the-supported-browsers">Configuring the supported browsers</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#creating-a-production-build">Creating a production build</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#what-you-learned-3">What you learned</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-documentation">React Router Documentation</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#setting-up-react-router">Setting up React Router</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#routes-and-links">Routes and Links</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#switch-and-redirect">Switch and Redirect</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#react-router-params-ownprops">React Router Params (ownProps)</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#rainbow-routes-project">Rainbow Routes Project</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-0-setup">Phase 0: Setup</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-1-routes">Phase 1: Routes</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-2-links">Phase 2: Links</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-3-navlinks">Phase 3: NavLinks</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-4-changing-navlinks-active-class">Phase 4 - Changing NavLink's Active Class</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#exploring-react-builds-project">Exploring React Builds Project</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-0-setup-1">Phase 0: Setup</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-1-using-css-modules">Phase 1: Using CSS modules</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-2-using-an-image-in-a-component">Phase 2: Using an image in a component</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#images-in-stylesheets">Images in stylesheets</a></li>
</ul>
</li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-3-updating-the-supported-browsers-and-its-affect-on-code-transpilation">Phase 3: Updating the supported browsers (and its affect on code transpilation)</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-4-adding-environment-variables">Phase 4: Adding environment variables</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#phase-5-deploying-a-production-build">Phase 5: Deploying a production build</a>
<ul>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#adding-routing">Adding routing</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#creating-a-production-build-1">Creating a production build</a></li>
<li><a href="file:///C:/Users/almyk/AppData/Local/Temp/mume2020914-19308-170tbep.66wk.html#serving-a-react-application-using-express">Serving a React application using Express</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
      <a id="sidebar-toc-btn">≡</a>
    
    
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  </body></html>