  <!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog-Post</title>
    <!--------------------------------(syntax hilighting)------------------------------------->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/styles/default.min.css" />
    <link rel="stlyesheet" href="./prism.css">
    <!-------------------------------------(scripts)------------------------------------------>
<<<<<<< HEAD
    <script async defer src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
=======
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
>>>>>>> faa6aaf237eae4895460e74eebaa130feb27079a
    <script async src="./prism.js"></script>


    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/bootstrap.grid.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="./css/bootstrap.css.map">
    <link rel="stylesheet" href="./css/blog-home.css">
    <link rel="stylesheet" href="./css/prism.css">
    <script async defer src="./css/prism.js"></script>
  </head>
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->



  <body> 

<<<<<<< HEAD
<a class ="btn" href="https://5fe258337e0d0d0007bcdc71--focused-pasteur-0faac8.netlify.app/">HOME</a>
=======
<a class ="btn" href="https://focused-pasteur-0faac8.netlify.app/">HOME</a>
>>>>>>> faa6aaf237eae4895460e74eebaa130feb27079a







    <p>When I <a href="/2016/02/redux.html">introduced redux</a> we discussed how we can use it with ReactJS. But redux
      can be used along with vanilla js as well. In this post I like to discuss how we can use redux with vanilla js
      using the same counter example from <a href="/2016/02/redux.html">getting started with redux</a>.</p>
    <p>Here we reuse the same reducer, actions and store from the earlier post except the react and react bindings part.
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> <span class="op">{</span>createStore<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// reducer </span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">function</span> <span class="at">counter</span>(state<span class="op">=</span><span class="dv">0</span><span class="op">,</span> action) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;counter&#39;</span><span class="op">,</span> action)</a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="cf">switch</span>(<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="cf">case</span> <span class="st">&#39;INCREMENT&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="cf">return</span> state <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="cf">case</span> <span class="st">&#39;DECREMENT&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="cf">return</span> state <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb1-12" title="12">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">//actions</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="kw">const</span> increment <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-20" title="20">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;INCREMENT&#39;</span></a>
<a class="sourceLine" id="cb1-21" title="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-23" title="23"></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="kw">const</span> decrement <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-25" title="25">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;DECREMENT&#39;</span></a>
<a class="sourceLine" id="cb1-27" title="27">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-29" title="29"></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">//create store</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="kw">const</span> store <span class="op">=</span> <span class="at">createStore</span>(counter)<span class="op">;</span></a></code></pre>
    </div>
    <p>Now we need a module for counter and add the functionalities to dispatch the actions. Our HTML for counter will
      looks like</p>
    <div class="sourceCode" id="cb2">
      <pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;counter&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">&lt;button</span><span class="ot"> id=</span><span class="st">&quot;inc&quot;</span><span class="kw">&gt;</span>+<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;text&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">&lt;button</span><span class="ot"> id=</span><span class="st">&quot;dec&quot;</span><span class="kw">&gt;</span>-<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">&lt;/div&gt;</span></a></code></pre>
    </div>
    <p>we are writing the counter modules using the constructor pattern using ES6 class syntax. In the
      <code>constructor</code> we will subscribe to store for changes and add event bindings.
    </p>
    <div class="sourceCode" id="cb3">
      <pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">class</span> Counter <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="at">constructor</span>(options) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="kw">this</span>.<span class="at">$el</span> <span class="op">=</span> <span class="va">options</span>.<span class="at">el</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="kw">this</span>.<span class="at">store</span> <span class="op">=</span> <span class="va">options</span>.<span class="at">store</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="va">store</span>.<span class="at">subscribe</span>(<span class="kw">this</span>.<span class="va">update</span>.<span class="at">bind</span>(<span class="kw">this</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="kw">this</span>.<span class="va">$el</span>.<span class="at">querySelector</span>(<span class="st">&#39;#inc&#39;</span>)</a>
<a class="sourceLine" id="cb3-7" title="7">      .<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">this</span>.<span class="va">inc</span>.<span class="at">bind</span>(<span class="kw">this</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="kw">this</span>.<span class="va">$el</span>.<span class="at">querySelector</span>(<span class="st">&#39;#dec&#39;</span>)</a>
<a class="sourceLine" id="cb3-9" title="9">      .<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">this</span>.<span class="va">dec</span>.<span class="at">bind</span>(<span class="kw">this</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="at">inc</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="kw">this</span>.<span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">increment</span>())</a>
<a class="sourceLine" id="cb3-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16">  <span class="at">dec</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="kw">this</span>.<span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">decrement</span>())</a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-19" title="19"></a>
<a class="sourceLine" id="cb3-20" title="20"></a>
<a class="sourceLine" id="cb3-21" title="21">  <span class="at">update</span>() <span class="op">{</span> </a>
<a class="sourceLine" id="cb3-22" title="22">    <span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb3-23" title="23">    <span class="kw">this</span>.<span class="at">$el</span></a>
<a class="sourceLine" id="cb3-24" title="24">      .<span class="at">querySelector</span>(<span class="st">&#39;#text&#39;</span>)</a>
<a class="sourceLine" id="cb3-25" title="25">      .<span class="at">innerHTML</span> <span class="op">=</span> <span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-26" title="26">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-27" title="27"></a>
<a class="sourceLine" id="cb3-28" title="28">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-29" title="29">    <span class="kw">this</span>.<span class="at">update</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-30" title="30">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-31" title="31"><span class="op">}</span></a></code></pre>
    </div>
    <p>Now we need to initiate the counter on <code>DOMContentLoaded</code> event.</p>
    <div class="sourceCode" id="cb4">
      <pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> d <span class="op">=</span> document<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="va">d</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="kw">const</span> counter <span class="op">=</span> <span class="kw">new</span> <span class="at">Counter</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">el</span><span class="op">:</span> <span class="va">d</span>.<span class="at">getElementById</span>(<span class="st">&#39;counter&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">    store</a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="va">counter</span>.<span class="at">render</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>We call the <code>render</code> method soon after initiating is to render the initial state. Now when you click
      the increment button we dispatch the action for increment and on decrement button we dispatch action to decrement.
      Since in <code>constructor</code> we already subscribed to store for changes, when a change in store happens
      <code>this.update</code> method will be called and update the content in span.
    </p>
    <p>Here is the working example of <a href="https://jsbin.com/juqoce/1/edit?js,output">redux with vanilla js</a> in
      jsbin.</p>
    <a class="jsbin-embed" href="http://jsbin.com/juqoce/embed?js,output">JS Bin on jsbin.com</a>
<<<<<<< HEAD
    <script async defer src="http://static.jsbin.com/js/embed.min.js?3.35.9"></script>
=======
    <script src="http://static.jsbin.com/js/embed.min.js?3.35.9"></script>
>>>>>>> faa6aaf237eae4895460e74eebaa130feb27079a
