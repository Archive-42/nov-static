  <!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog-Post</title>
    <!--------------------------------(syntax hilighting)------------------------------------->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/styles/default.min.css" />
    <link rel="stlyesheet" href="./prism.css">
    <!-------------------------------------(scripts)------------------------------------------>
<<<<<<< HEAD
    <script async defer src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
=======
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
>>>>>>> faa6aaf237eae4895460e74eebaa130feb27079a
    <script async src="./prism.js"></script>


    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/bootstrap.grid.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="./css/bootstrap.css.map">
    <link rel="stylesheet" href="./css/blog-home.css">
    <link rel="stylesheet" href="./css/prism.css">
    <script async defer src="./css/prism.js"></script>
  </head>
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------->



  <body> 

<<<<<<< HEAD
<a class ="btn" href="https://5fe258337e0d0d0007bcdc71--focused-pasteur-0faac8.netlify.app/">HOME</a>
=======
<a class ="btn" href="https://focused-pasteur-0faac8.netlify.app/">HOME</a>
>>>>>>> faa6aaf237eae4895460e74eebaa130feb27079a







    <p>I like to write independent, decoupled modules, so we can add or remove modules as we like and don’t want to care
      about effect on other modules. Initially when I started working with <a
        href="http://whatznear.com/">whatznear</a>, I used contructor patten for modules, but when the requirements
      started getting complicated I understood that the constructor pattern was not enough. I want something more to
      make the modules decoupled and thus I introduced module pattern along with mediator pattern.</p>
    <p>In module pattern we can have public and private methods with the help of cloures. So I wrote a module for
      product review with init method as the only public method. It worked fine, until I need to add reviews for stores.
    </p>
    <p>Store review was pretty much similar, except loading of reviews, so I thought of extending
      <code>ProductReview</code> module. Then I came to understand that if I want to override a method in module pattern
      then the method should be public. That made me change the visibility of <code>load</code> method to public.
    </p>
    <div class="sourceCode" id="cb1">
      <pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1">ProductReview <span class="op">=</span> (<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">var</span> _el <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="kw">var</span> init <span class="op">=</span> <span class="kw">function</span> (options) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    _el <span class="op">=</span> <span class="va">options</span>.<span class="at">el</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="va">options</span>.<span class="at">load</span> <span class="op">=</span> <span class="va">options</span>.<span class="at">load</span> <span class="op">||</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="va">Mediator</span>.<span class="at">subscribe</span>(<span class="st">&quot;load&quot;</span><span class="op">,</span> load)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="va">Mediator</span>.<span class="at">subscribe</span>(<span class="st">&quot;event1&quot;</span><span class="op">,</span> _doAction1)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="co">// other event bindings and defaults</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="kw">var</span> _doAction1 <span class="op">=</span> <span class="kw">function</span> () <span class="op">{};</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">  <span class="kw">var</span> load <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-17" title="17">      <span class="dt">url</span><span class="op">:</span> <span class="st">&quot;/reviews.json&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-18" title="18">      <span class="dt">data</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-19" title="19">        <span class="dt">product_id</span><span class="op">:</span> <span class="va">_el</span>.<span class="at">data</span>(<span class="st">&quot;product-id&quot;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb1-20" title="20">        <span class="dt">inventory_id</span><span class="op">:</span> <span class="va">_el</span>.<span class="at">data</span>(<span class="st">&quot;inventory-id&quot;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb1-21" title="21">      <span class="op">},</span></a>
<a class="sourceLine" id="cb1-22" title="22">      <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;GET&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-23" title="23">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb1-24" title="24">      .<span class="at">done</span>(_success)</a>
<a class="sourceLine" id="cb1-25" title="25">      .<span class="at">fail</span>(_error)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-26" title="26">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-27" title="27"></a>
<a class="sourceLine" id="cb1-28" title="28">  <span class="kw">var</span> _success <span class="op">=</span> <span class="kw">function</span> (data<span class="op">,</span> status<span class="op">,</span> xhr) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="co">// ...</span></a>
<a class="sourceLine" id="cb1-30" title="30">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-31" title="31"></a>
<a class="sourceLine" id="cb1-32" title="32">  <span class="kw">var</span> _error <span class="op">=</span> <span class="kw">function</span> (data<span class="op">,</span> xhr) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-33" title="33">    <span class="co">// ..</span></a>
<a class="sourceLine" id="cb1-34" title="34">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-35" title="35"></a>
<a class="sourceLine" id="cb1-36" title="36">  <span class="co">// other functionalities</span></a>
<a class="sourceLine" id="cb1-37" title="37"></a>
<a class="sourceLine" id="cb1-38" title="38">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-39" title="39">    <span class="dt">init</span><span class="op">:</span> init<span class="op">,</span></a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="dt">load</span><span class="op">:</span> load<span class="op">,</span></a>
<a class="sourceLine" id="cb1-41" title="41">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="op">}</span>)()<span class="op">;</span></a></code></pre>
    </div>
    <p>Thus my <code>ProductReview</code> module works fine with new changes and now I need to extend this for the store
      review and I only need to update the load method and its success and error callbacks. Since I need all event binds
      as it is in <code>ProductReview</code> and I don’t want to duplicate any code, So I just used <code>init</code>
      method of <code>ProductReview</code> itself.</p>
    <div class="sourceCode" id="cb2">
      <pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1">StoreReview <span class="op">=</span> (<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">var</span> load <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="dt">url</span><span class="op">:</span> <span class="st">&quot;/store_reviews.json&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">      <span class="dt">data</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="dt">store_id</span><span class="op">:</span> <span class="kw">this</span>.<span class="va">_el</span>.<span class="at">data</span>(<span class="st">&#39;store-id&#39;</span>)</a>
<a class="sourceLine" id="cb2-8" title="8">      <span class="op">}</span></a>
<a class="sourceLine" id="cb2-9" title="9">      <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;GET&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb2-11" title="11">    .<span class="at">done</span>(<span class="va">_success</span>.<span class="at">bind</span>(<span class="kw">this</span>))</a>
<a class="sourceLine" id="cb2-12" title="12">    .<span class="at">fail</span>(_error)</a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="op">};</span></a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15">  <span class="kw">var</span> _success <span class="op">=</span> <span class="kw">function</span>(data<span class="op">,</span> status<span class="op">,</span> xhr) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-16" title="16">    <span class="co">// ...</span></a>
<a class="sourceLine" id="cb2-17" title="17">  <span class="op">};</span></a>
<a class="sourceLine" id="cb2-18" title="18"></a>
<a class="sourceLine" id="cb2-19" title="19">  <span class="kw">var</span> _error <span class="op">=</span> (data<span class="op">,</span> xhr) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-20" title="20">    <span class="co">// ..</span></a>
<a class="sourceLine" id="cb2-21" title="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb2-22" title="22"></a>
<a class="sourceLine" id="cb2-23" title="23">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-24" title="24">    <span class="dt">load</span><span class="op">:</span> load<span class="op">,</span></a>
<a class="sourceLine" id="cb2-25" title="25">    <span class="dt">init</span><span class="op">:</span> <span class="va">ProductReview</span>.<span class="at">init</span></a>
<a class="sourceLine" id="cb2-26" title="26">  <span class="op">};</span></a>
<a class="sourceLine" id="cb2-27" title="27"></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="op">}</span>)()</a></code></pre>
    </div>
    <p>If you want more methods to override, you can make those public and overwrite in the child module. In above
      modules, when I publish event ‘load’, from <code>StoreReview</code> the overriden method will be executed. I will
      be writing about mediator pattern sometimes later in another blog post.</p>
    <p>Thus my store review module is ready, just with the change for load and other callback. Since both these module
      never come on the same page (atleast for now) it works perfectly.</p>
    <p>If you think this implementation have any problem or issue. please lemme know.</p>

  </body>

  
</html>
